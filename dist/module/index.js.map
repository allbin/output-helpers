{"version":3,"sources":["../src/module/index.ts"],"names":[],"mappings":";;AAAA,iCAA4B;AA0C5B,gBAAM,CAAC,YAAY,CAAC,OAAO,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC;AACrD,gBAAM,CAAC,YAAY,CAAC,OAAO,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC;AACrD,gBAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAIvB,IAAI,YAAY,GAAe,EAAE,CAAC;AAElC,IAAI,cAAc,GAAW;IACzB,WAAW,EAAE,IAAI;IACjB,YAAY,EAAE,EAAE;IAChB,WAAW,EAAE,IAAI;IACjB,iBAAiB,EAAE,OAAO;IAC1B,IAAI,EAAE,OAAO;CAChB,CAAC;AACF,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC;AAC/C,IAAI,mBAAmB,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AAE7C,kBAAkB;AAClB,SAAS;AAET,SAAS,cAAc,CAAI,GAAY,EAAE,UAA0B,EAAE,QAA8B,EAAE,cAA+B,EAAE,UAAoC;IAAjI,2BAAA,EAAA,iBAA0B;IAAE,yBAAA,EAAA,eAA8B;IAAE,+BAAA,EAAA,sBAA+B;IAAE,2BAAA,EAAA,iBAAoC;IACtK,IAAI,IAAI,GAAG,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC;IACnC,UAAU,GAAG,UAAU,IAAI,YAAY,CAAC;IAExC,IAAI,CAAC,UAAU,EAAE;QACb,OAAO,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACzC,OAAO,GAAG,CAAC;KACd;IAED,IAAI,WAAW,GAAG,kBAAkB,CAAC,GAAa,EAAE,UAAU,EAAE,IAAI,EAAE,cAAc,CAAC,CAAC;IAEtF,IAAI,UAAU,KAAK,IAAI,EAAE;QACrB,OAAO,gBAAgB,CAAC,WAAW,CAAC,CAAC;KACxC;IACD,OAAO,WAAW,CAAC;AACvB,CAAC;AACD,SAAS,SAAS,CAAC,GAAW,EAAE,UAA0B,EAAE,QAA8B,EAAE,cAA+B,EAAE,UAAoC;IAAjI,2BAAA,EAAA,iBAA0B;IAAE,yBAAA,EAAA,eAA8B;IAAE,+BAAA,EAAA,sBAA+B;IAAE,2BAAA,EAAA,iBAAoC;IAC7J,iIAAiI;IACjI,IAAI,IAAI,GAAG,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC;IACnC,UAAU,GAAG,UAAU,IAAI,YAAY,CAAC;IAExC,IAAI,CAAC,UAAU,EAAE;QACb,OAAO,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;QACzC,OAAO,GAAG,CAAC;KACd;IAED,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;QAC1B,OAAO,CAAC,KAAK,CAAC,sCAAsC,CAAC,CAAC;QACtD,OAAO,EAAE,CAAC;KACb;IAED,IAAI,WAAW,GAAG,kBAAkB,CAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,cAAc,CAAC,CAAC;IAE5E,IAAI,UAAU,KAAK,IAAI,EAAE;QACrB,OAAO,gBAAgB,CAAC,WAAW,CAAC,CAAC;KACxC;IACD,OAAO,WAAW,CAAC;AACvB,CAAC;AAED,SAAS,kBAAkB,CAAC,GAAW,EAAE,UAAsB,EAAE,IAAY,EAAE,cAA+B;IAA/B,+BAAA,EAAA,sBAA+B;IAC1G,IAAI,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,KAAK,EAAE;QAC3C,OAAO,CAAC,IAAI,CAAC,4BAA4B,GAAG,IAAI,GAAG,kCAAkC,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAClH,IAAI,UAAU,CAAC,cAAc,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK,KAAK,EAAE;YAC/D,OAAO,CAAC,KAAK,CAAC,qBAAqB,GAAG,MAAM,CAAC,iBAAiB,GAAG,uCAAuC,CAAC,CAAC;YAC1G,IAAI,cAAc,EAAE;gBAChB,OAAO,EAAE,CAAC;aACb;YACD,OAAO,GAAG,GAAG,EAAE,CAAC;SACnB;QACD,IAAI,GAAG,MAAM,CAAC,iBAAiB,CAAC;KACnC;IAED,IAAI,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;IACxC,IAAI,CAAC,WAAW,EAAE;QACd,IAAI,IAAI,KAAK,MAAM,CAAC,iBAAiB,EAAE;YACnC,OAAO,CAAC,KAAK,CAAC,4BAA4B,GAAG,GAAG,GAAG,SAAS,GAAG,IAAI,GAAG,yBAAyB,CAAC,CAAC;YACjG,IAAI,cAAc,EAAE;gBAChB,OAAO,EAAE,CAAC;aACb;YACD,OAAO,GAAG,GAAG,EAAE,CAAC;SACnB;QACD,IAAM,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAClD,IAAI,IAAI,EAAE;YACN,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;SAC3B;aAAM;YACH,WAAW,GAAG,SAAS,CAAC;SAC3B;QAED,IAAI,CAAC,WAAW,EAAE;YACd,OAAO,CAAC,KAAK,CAAC,4BAA4B,GAAG,GAAG,GAAG,SAAS,GAAG,IAAI,GAAG,yBAAyB,CAAC,CAAC;YACjG,IAAI,cAAc,EAAE;gBAChB,OAAO,EAAE,CAAC;aACb;YACD,OAAO,GAAG,GAAG,EAAE,CAAC;SACnB;QAED,OAAO,CAAC,IAAI,CAAC,4BAA4B,GAAG,GAAG,GAAG,SAAS,GAAG,IAAI,GAAG,iCAAiC,CAAC,CAAC;KAC3G;IAED,OAAO,WAAW,CAAC;AACvB,CAAC;AAED,SAAS,gBAAgB,CAAC,GAAW,EAAE,WAA4B;IAA5B,4BAAA,EAAA,mBAA4B;IAC/D,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QAAE,OAAO,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC;QAAC,OAAO,EAAE,CAAC;KAAE;IAChG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;QAAE,OAAO,EAAE,CAAC;KAAE;IAElC,IAAI,WAAW,EAAE;QACb,OAAO,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;KACvE;IACD,OAAO,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACtD,CAAC;AAMD,eAAe;AACf,eAAe;AAEf,SAAS,kBAAkB,CAAC,CAAyC,EAAE,aAAkC,EAAE,YAAkC,EAAE,GAAW;IAAnF,8BAAA,EAAA,kCAAkC;IAAE,6BAAA,EAAA,mBAAkC;IAAE,oBAAA,EAAA,WAAW;IACtJ,IAAI,gBAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;QACpB,OAAO,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;KAClC;IAED,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE;QACvB,IAAI,YAAY,EAAE;YACd,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,gBAAM,CAAC,GAAG,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC,gBAAM,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;SACrE;aAAM;YACH,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,gBAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAM,CAAC,CAAC,CAAC,CAAC;SACzC;KACJ;SAAM,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE;QAC9B,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,gBAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAM,CAAC,CAAC,CAAC,CAAC;KACzC;SAAM,IAAI,OAAO,CAAC,CAAC,QAAQ,KAAK,UAAU,EAAE;QACzC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,gBAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,gBAAM,CAAC,CAAC,CAAC,CAAC;KACzC;SAAM;QACH,OAAO,CAAC,KAAK,CAAC,gHAAgH,CAAC,CAAC;QAChI,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,eAAe;KACjC;IACD,OAAO,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;AACnC,CAAC;AAED,SAAS,sBAAsB,CAAC,CAAyC,EAAE,YAAmB,EAAE,GAAW;IAAhC,6BAAA,EAAA,mBAAmB;IAAE,oBAAA,EAAA,WAAW;IACvG,OAAO,kBAAkB,CAAC,CAAC,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,CAAC,CAAC;AAC7D,CAAC;AAED,SAAS,YAAY,CAAC,CAAO,EAAE,GAAW;IAAX,oBAAA,EAAA,WAAW;IACtC,IAAI,GAAG,EAAE;QACL,OAAO,gBAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KACxB;IACD,OAAO,gBAAM,CAAC,CAAC,CAAC,CAAC;AACrB,CAAC;AAED,SAAS,aAAa,CAAC,QAA8B;IAA9B,yBAAA,EAAA,eAA8B;IACjD,0HAA0H;IAC1H,IAAI,IAAI,GAAG,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC;IAEnC,IAAM,YAAY,GAEd;QACA,OAAO,EAAE;YACL,MAAM,EAAE;gBACJ,SAAS,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM;gBAC7D,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU;aAC5D;YACD,WAAW,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;YACjG,QAAQ,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,CAAC;YACjF,aAAa,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;YAChE,WAAW,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;YACvD,IAAI,EAAE;gBACF,GAAG,EAAE,CAAC;gBACN,GAAG,EAAE,CAAC;aACT;SACJ;QACD,OAAO,EAAE;YACL,MAAM,EAAE;gBACJ,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM;gBAC9D,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU;aAC3D;YACD,WAAW,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;YACjG,QAAQ,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC;YACxF,aAAa,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;YAChE,WAAW,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;YACvD,IAAI,EAAE;gBACF,GAAG,EAAE,CAAC;gBACN,GAAG,EAAE,CAAC;aACT;SACJ;KACJ,CAAC;IAEF,IAAI,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;QACnC,OAAO,YAAY,CAAC,IAAI,CAAC,CAAC;KAC7B;SAAM,IAAI,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE;QAC9D,OAAO,CAAC,KAAK,CAAC,iCAAiC,GAAG,IAAI,GAAG,kCAAkC,GAAG,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,CAAC;QAC/H,OAAO,YAAY,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;KACjD;IACD,MAAM,IAAI,KAAK,CAAC,iCAAiC,GAAG,IAAI,GAAG,2BAA2B,GAAG,MAAM,CAAC,iBAAiB,GAAG,oBAAoB,CAAC,CAAC;AAC9I,CAAC;AAED,SAAS,iBAAiB,CAAC,KAAa,EAAE,aAAsB,EAAE,OAAe,EAAE,KAAa;IAC5F,mEAAmE;IACnE,uBAAuB;IACvB,iHAAiH;IACjH,2EAA2E;IAC3E,+EAA+E;IAC/E,gFAAgF;IAChF,6GAA6G;IAC7G,gIAAgI;IAR1F,8BAAA,EAAA,sBAAsB;IAAE,wBAAA,EAAA,eAAe;IAAE,sBAAA,EAAA,aAAa;IAU5F,IAAM,OAAO,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;IAC7E,IAAM,OAAO,GAAG,KAAK,GAAG,EAAE,CAAC;IAE3B,IAAI,KAAK,GAAG,EAAE,CAAC;IACf,IAAI,KAAK,GAAG,EAAE,CAAC;IAEf,IAAI,OAAO,IAAI,KAAK,EAAE;QAClB,KAAK,GAAG,MAAM,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;QACxC,KAAK,GAAG,MAAM,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;KAC3C;SAAM;QACH,KAAK,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC,gBAAgB;QACtC,KAAK,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC,gBAAgB;KACzC;IAED,IAAI,KAAK,EAAE;QACP,OAAO,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC;KAC9B;IAED,IAAI,aAAa,KAAK,MAAM,EAAE;QAC1B,IAAI,OAAO,KAAK,CAAC,IAAI,OAAO,KAAK,CAAC,EAAE;YAChC,OAAO,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;SACpC;aAAM,IAAI,OAAO,KAAK,CAAC,EAAE;YACtB,OAAO,KAAK,GAAG,GAAG,CAAC;SACtB;QACD,OAAO,KAAK,GAAG,GAAG,CAAC;KACtB;SAAM,IAAI,aAAa,KAAK,SAAS,EAAE;QACpC,IAAI,OAAO,KAAK,CAAC,EAAE;YACf,OAAO,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;SACpC;QACD,OAAO,KAAK,GAAG,GAAG,CAAC;KACtB;SAAM,IAAI,aAAa,KAAK,SAAS,EAAE;QACpC,IAAI,OAAO,KAAK,CAAC,EAAE;YACf,OAAO,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;SACpC;QACD,OAAO,KAAK,GAAG,GAAG,CAAC;KACtB;IACD,OAAO,KAAK,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;AACrC,CAAC;AAOD,gBAAgB;AAChB,SAAS;AAET,SAAS,OAAO,CAAC,KAAa,EAAE,SAAqB;IAArB,0BAAA,EAAA,aAAqB;IACjD,IAAI,SAAS,KAAK,CAAC,EAAE;QAAE,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KAAE;IAClD,IAAI,WAAW,GAAa,CAAC,EAAE,CAAC,CAAC;IACjC,WAAW,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1C,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IAChH,WAAW,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1C,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;AAClG,CAAC;AAED,SAAS,SAAS,CAAC,KAAa,EAAE,QAAoB;IAApB,yBAAA,EAAA,YAAoB;IAClD,IAAI,QAAQ,KAAK,CAAC,EAAE;QAAE,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAAE;IAChD,IAAI,WAAW,GAAa,CAAC,EAAE,CAAC,CAAC;IACjC,WAAW,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1C,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC5G,WAAW,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACzC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAChG,CAAC;AAED,SAAS,WAAW,CAAC,KAAa,EAAE,SAAqB;IAArB,0BAAA,EAAA,aAAqB;IACrD,IAAI,SAAS,KAAK,CAAC,EAAE;QAAE,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KAAE;IAClD,IAAI,WAAW,GAAa,CAAC,EAAE,CAAC,CAAC;IACjC,WAAW,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1C,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IAChH,WAAW,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1C,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;AAClG,CAAC;AAGD,SAAS,MAAM,CAAC,KAAa,EAAE,OAAsB;IACjD,IAAI,GAAW,CAAC;IAChB,IAAI,OAAiB,CAAC;IACtB,IAAM,KAAK,GAAG,CAAC,OAAO,OAAO,CAAC,KAAK,KAAK,QAAQ,CAAC,IAAI,KAAK,CAAC;IAC3D,IAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;IAChC,IAAM,IAAI,GAAG,CAAC,OAAO,OAAO,CAAC,IAAI,KAAK,QAAQ,CAAC,IAAI,KAAK,CAAC;IACzD,IAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC;IAC9B,IAAM,KAAK,GAAG,CAAC,OAAO,OAAO,CAAC,KAAK,KAAK,QAAQ,CAAC,IAAI,KAAK,CAAC;IAC3D,IAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;IAChC,IAAM,gBAAgB,GAAG,CAAC,OAAO,OAAO,CAAC,eAAe,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,eAAe,KAAK,QAAQ,CAAC,IAAI,KAAK,CAAC;IAC/H,IAAM,YAAY,GAAG,OAAO,CAAC,eAAe,CAAC;IAC7C,IAAM,YAAY,GAAG,OAAO,CAAC,eAAe,CAAC;IAC7C,IAAM,OAAO,GAAG,CAAC,OAAO,OAAO,CAAC,OAAO,KAAK,QAAQ,CAAC,IAAI,KAAK,CAAC;IAC/D,IAAM,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC;IACnC,IAAM,KAAK,GAAG,CAAC,OAAO,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,KAAK,CAAC;IAChD,IAAM,QAAQ,GAAG,CAAC,OAAO,CAAC,QAAQ,KAAK,IAAI,CAAC,IAAI,KAAK,CAAC;IAEtD,IAAM,WAAW,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;IAEhC,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAC3B,OAAO,CAAC,IAAI,CAAC,gDAAgD,EAAE,OAAO,KAAK,CAAC,CAAC;QAC7E,OAAO,KAAK,CAAC;KAChB;IAED,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,EAAE;QAC1B,KAAK,GAAG,OAAO,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;KACrC;IACD,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;QAChB,KAAK,GAAG,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;KACtC;IACD,IAAI,KAAK,EAAE;QACP,KAAK,GAAG,WAAW,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;KACzC;IAED,IAAI,KAAK,IAAI,CAAC,KAAK,EAAE;QACjB,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC;KACtC;SAAM;QACH,GAAG,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;KAC1B;IAED,IAAI,QAAQ,EAAE;QACV,IAAI,WAAW,EAAE,EAAE,gCAAgC;YAC/C,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SACvB;QACD,IAAI,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,2DAA2D;QAC3F,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACjC,GAAG,GAAG,EAAE,CAAC;QACT,OAAO,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,GAAG,GAAG,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;YAC1G,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SAClD;QACD,IAAI,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAClC,GAAG,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;QACvD,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACxD,IAAI,WAAW,EAAE,EAAE,6BAA6B;YAC5C,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;SACnB;KACJ;IAED,IAAI,gBAAgB,EAAE;QAClB,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACzB,IAAI,YAAY,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,YAAY,EAAE;YAClD,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,uBAAuB,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,CAAC;SAC5E;QACD,IAAI,YAAY,EAAE;YACd,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,YAAY,EAAE;gBACxD,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,uBAAuB,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;gBAC3E,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC3B;iBAAM,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3B,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,mBAAmB,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;aACtF;iBAAM;gBACH,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,mBAAmB,CAAC,KAAK,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;aACvE;SACJ;KACJ;IACD,IAAI,OAAO,IAAI,UAAU,EAAE;QACvB,IAAI,GAAG,CAAC,MAAM,GAAG,UAAU,EAAE;YACzB,GAAG,GAAG,CAAC,GAAG,GAAG,uBAAuB,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;SAC9D;KACJ;IAED,OAAO,GAAG,CAAC;AACf,CAAC;AAOD,SAAS,kBAAkB,CAAC,cAA4B,EAAE,IAAW,EAAE,SAAgB;IAA7B,qBAAA,EAAA,WAAW;IAAE,0BAAA,EAAA,gBAAgB;IACnF,YAAY,GAAG,EAAE,CAAC;IAClB,cAAc,CAAC,OAAO,CAAC,UAAC,IAAgB,EAAE,UAAkB;QACxD,IAAI,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;QAC9D,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,UAAC,cAAc;YACxB,IAAI,mBAAmB,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,KAAK,EAAE;gBACxD,OAAO;aACV;YACD,IAAI,IAAI,GAAG,cAAwB,CAAC;YACpC,IAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,YAAY,EAAE;gBAAE,OAAO;aAAE;YAC9B,IAAI,aAAa,GAAa,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACxD,IAAI,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,KAAK,EAAE;gBAC7C,IAAI,uBAAqB,GAAiB,EAAE,CAAC;gBAC7C,aAAa,CAAC,OAAO,CAAC,UAAC,GAAG;oBACtB,uBAAqB,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;gBAC5D,CAAC,CAAC,CAAC;gBACH,YAAY,CAAC,IAAI,CAAC,GAAG,uBAAqB,CAAC;aAC9C;iBAAM;gBACH,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;oBACpB,IAAI,2BAAyB,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;oBAEtE,aAAa,CAAC,OAAO,CAAC,UAAC,eAAe;wBAClC,IAAI,2BAAyB,CAAC,cAAc,CAAC,MAAM,GAAG,eAAe,CAAC,EAAE;4BACpE,IAAI,IAAI,EAAE;gCACN,OAAO,CAAC,IAAI,CAAC,iBAAiB,GAAG,UAAU,GAAG,qCAAqC,GAAG,CAAC,MAAM,GAAG,eAAe,CAAC,GAAG,IAAI,CAAC,CAAC;6BAC5H;4BACD,IAAI,SAAS,EAAE;gCACX,2BAAyB,CAAC,MAAM,GAAG,eAAe,CAAC,GAAG,YAAY,CAAC,eAAe,CAAC,CAAC;6BACvF;yBACJ;wBACD,2BAAyB,CAAC,MAAM,GAAG,eAAe,CAAC,GAAG,YAAY,CAAC,eAAe,CAAC,CAAC;oBACxF,CAAC,CAAC,CAAC;oBACH,YAAY,CAAC,IAAI,CAAC,GAAG,2BAAyB,CAAC;iBAClD;qBAAM;oBACH,IAAI,uBAAqB,GAAiB,EAAE,CAAC;oBAC7C,aAAa,CAAC,OAAO,CAAC,UAAC,GAAG;wBACtB,uBAAqB,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;oBAC5D,CAAC,CAAC,CAAC;oBACH,YAAY,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,CAAC,IAAI,CAAC,EAAE,uBAAqB,CAAC,CAAC;iBACrF;aACJ;QACL,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC;AAED,SAAS,aAAa,CAAC,UAAsB;IACzC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACrC,kBAAkB,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;AAC5C,CAAC;AAED,IAAI,KAAK,GAAG;IACR,aAAa,EAAE,aAAa;IAC5B,YAAY,EAAE,YAAY;IAC1B,MAAM,EAAE,MAAM;IACd,kBAAkB,EAAE,kBAAkB;IACtC,sBAAsB,EAAE,sBAAsB;IAC9C,iBAAiB,EAAE,iBAAiB;IACpC,gBAAgB,EAAE,gBAAgB;IAClC,aAAa,EAAE,aAAa;IAC5B,eAAe,EAAE,eAAe;IAChC,OAAO,EAAE,OAAO;IAChB,WAAW,EAAE,WAAW;IACxB,OAAO,EAAE,OAAO;IAChB,SAAS,EAAE,SAAS;IACpB,SAAS,EAAE,SAAS;IACpB,SAAS,EAAE,SAAS;IACpB,cAAc,EAAE,cAAc;CACjC,CAAC;AAEF,IAAI,cAAc,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;AAE9C,SAAS,SAAS,CAAC,WAAqB;IACpC,IAAI,OAAO,GAAG,KAAK,CAAC;IACpB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,UAAC,GAAG;QACjC,IAAI,GAAG,KAAK,cAAc,IAAI,MAAM,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,OAAO,CAAC,IAAI,CAAC,0EAA0E,CAAC,CAAC;YACzF,OAAO,GAAG,IAAI,CAAC;YACf,OAAO;SACV;QACD,IAAI,MAAM,CAAC,GAAG,CAAC,KAAK,cAAc,CAAC,GAAG,CAAC,EAAE;YACrC,OAAO,CAAC,IAAI,CAAC,kDAAkD,GAAG,GAAG,GAAG,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;SAC5H;IACL,CAAC,CAAC,CAAC;IACH,IAAI,OAAO,EAAE;QACT,OAAO,CAAC,KAAK,CAAC,4CAA4C,CAAC,CAAC;QAC5D,OAAO;KACV;IACD,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;IAEhD,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;QACd,OAAO,CAAC,IAAI,CAAC,yEAAyE,GAAG,MAAM,CAAC,iBAAiB,GAAG,GAAG,CAAC,CAAC;QACzH,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,iBAAiB,CAAC;KAC1C;IACD,IAAI,MAAM,CAAC,WAAW,EAAE;QACpB,gBAAM,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;KACrC;SAAM;QACH,gBAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KAC9B;IACD,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,KAAK,EAAE;QAC9C,OAAO,CAAC,KAAK,CAAC,kDAAkD,CAAC,CAAC;QAClE,MAAM,CAAC,YAAY,GAAG,EAAE,CAAC;QACzB,YAAY,GAAG,EAAE,CAAC;KACrB;IAED,kBAAkB,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;IACxC,cAAc,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE,MAAM,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;AAC9E,CAAC;AAED,SAAS,gBAAgB;IACrB,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;AACrC,CAAC;AAED,SAAS,OAAO;IACZ,OAAO,MAAM,CAAC,IAAI,CAAC;AACvB,CAAC;AACD,SAAS,eAAe;IACpB,OAAO,MAAM,CAAC,iBAAiB,CAAC;AACpC,CAAC;AAID,kBAAe,cAAc,CAAC","file":"index.js","sourcesContent":["import moment from 'moment';\n\n\nexport type LangId = \"sv-SE\" | \"en-US\";\nexport interface Dictionary {\n    [key: string]: any;\n    \"sv-SE\"?: StrStrObject;\n    \"en-US\"?: StrStrObject;\n    prefix?: string;\n}\nexport interface TypedDictionary<T> {\n    \"sv-SE\"?: T;\n    \"en-US\"?: T;\n    prefix?: string;\n}\nexport interface FormatOptions {\n    round?: number;\n    ceil?: number;\n    floor?: number;\n    integer_padding?: number;\n    decimal_padding?: number;\n    padding?: number;\n    trunc?: boolean;\n    grouping?: boolean;\n}\nexport interface OHConfig extends Partial<Config> { }\ninterface Config {\n    [key: string]: any;\n    date_locale: LangId | null;\n    dictionaries: Dictionary[];\n    extend_with: {\n        [key: string]: any\n    } | null;\n    fallback_language: LangId;\n    lang: LangId;\n}\ninterface StrStrObject {\n    [key: string]: string;\n}\n\n\n\nmoment.defineLocale('sv-SE', getDateLocale('sv-SE'));\nmoment.defineLocale('en-US', getDateLocale('en-US'));\nmoment.locale('en-US');\n\n\n\nlet translations: Dictionary = {};\n\nlet default_config: Config = {\n    date_locale: null,\n    dictionaries: [],\n    extend_with: null,\n    fallback_language: 'en-US',\n    lang: 'en-US'\n};\nlet config = Object.assign({}, default_config);\nlet supported_languages = ['sv-SE', 'en-US'];\n\n//////////////////\n//STRINGS\n\nfunction translateTyped<T>(key: keyof T, capitalize: boolean = true, language: LangId | null = null, empty_on_error: boolean = false, dictionary: Dictionary | null = null) {\n    let lang = language || config.lang;\n    dictionary = dictionary || translations;\n\n    if (!dictionary) {\n        console.error(\"Dictionary not defined.\");\n        return key;\n    }\n\n    let translation = doTranslationCheck(key as string, dictionary, lang, empty_on_error);\n\n    if (capitalize === true) {\n        return capitalizeString(translation);\n    }\n    return translation;\n}\nfunction translate(str: string, capitalize: boolean = true, language: LangId | null = null, empty_on_error: boolean = false, dictionary: Dictionary | null = null) {\n    // const lang_in_jwt = (window.sso && window.sso.isLoggedIn()) ? window.sso.getJWT().getClaim(\"lang\") : config.fallback_language;\n    let lang = language || config.lang;\n    dictionary = dictionary || translations;\n\n    if (!dictionary) {\n        console.error(\"Dictionary not defined.\");\n        return str;\n    }\n\n    if (!str || str.length === 0) {\n        console.error(\"Tried to translate undefined string.\");\n        return \"\";\n    }\n\n    let translation = doTranslationCheck(str, dictionary, lang, empty_on_error);\n\n    if (capitalize === true) {\n        return capitalizeString(translation);\n    }\n    return translation;\n}\n\nfunction doTranslationCheck(key: string, dictionary: Dictionary, lang: string, empty_on_error: boolean = false) {\n    if (dictionary.hasOwnProperty(lang) === false) {\n        console.warn(\"Translation for language '\" + lang + \"' not supported, defaulting to: \" + config.fallback_language);\n        if (dictionary.hasOwnProperty(config.fallback_language) === false) {\n            console.error(\"Fallback language '\" + config.fallback_language + \"' not defined in translation library!\");\n            if (empty_on_error) {\n                return \"\";\n            }\n            return key + \"\";\n        }\n        lang = config.fallback_language;\n    }\n\n    let translation = dictionary[lang][key];\n    if (!translation) {\n        if (lang === config.fallback_language) {\n            console.error(\"No translation found for '\" + key + \"' for '\" + lang + \"' or fallback language.\");\n            if (empty_on_error) {\n                return \"\";\n            }\n            return key + \"\";\n        }\n        const dict = dictionary[config.fallback_language];\n        if (dict) {\n            translation = dict[key];\n        } else {\n            translation = undefined;\n        }\n\n        if (!translation) {\n            console.error(\"No translation found for '\" + key + \"' for '\" + lang + \"' or fallback language.\");\n            if (empty_on_error) {\n                return \"\";\n            }\n            return key + \"\";\n        }\n\n        console.warn(\"No translation found for '\" + key + \"' for '\" + lang + \"'. Returning fallback language.\");\n    }\n\n    return translation;\n}\n\nfunction capitalizeString(str: string, force_lower: boolean = false) {\n    if (typeof str !== \"string\") { console.warn(\"Capitalize err: input not a string.\"); return \"\"; }\n    if (str.length < 1) { return \"\"; }\n\n    if (force_lower) {\n        return str.charAt(0).toUpperCase() + str.substring(1).toLowerCase();\n    }\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\n\n\n\n///////////////\n//DATE and TIME\n\nfunction formatDateAsString(d: Date | string | moment.Moment | number, output_format = \"YYYY-MM-DD HH:mm\", input_format: string | null = null, utc = false) {\n    if (moment.isMoment(d)) {\n        return d.format(output_format);\n    }\n\n    if (typeof d === \"string\") {\n        if (input_format) {\n            d = (utc) ? moment.utc(d, input_format) : moment(d, input_format);\n        } else {\n            d = (utc) ? moment.utc(d) : moment(d);\n        }\n    } else if (typeof d === \"number\") {\n        d = (utc) ? moment.utc(d) : moment(d);\n    } else if (typeof d.getMonth === 'function') {\n        d = (utc) ? moment.utc(d) : moment(d);\n    } else {\n        console.error(\"Cannot formatDateAsString; unknown format of input. moments, strings and dates are supported. Returning input.\");\n        return d + \"\"; //Force string.\n    }\n    return d.format(output_format);\n}\n\nfunction formatDateAsTimeString(d: Date | string | moment.Moment | number, input_format = null, utc = false) {\n    return formatDateAsString(d, \"HH:mm\", input_format, utc);\n}\n\nfunction dateToMoment(d: Date, utc = false) {\n    if (utc) {\n        return moment.utc(d);\n    }\n    return moment(d);\n}\n\nfunction getDateLocale(language: LangId | null = null) {\n    // const lang_in_jwt = (window.sso && window.sso.isLoggedIn()) ? window.sso.getJWT().getClaim(\"lang\") : fallback_language;\n    let lang = language || config.lang;\n\n    const date_locales: {\n        [key: string]: moment.LocaleSpecification\n    } = {\n        \"sv-SE\": {\n            months: [\n                \"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\", \"Juli\",\n                \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\"\n            ],\n            monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\n            weekdays: [\"Söndag\", \"Måndag\", \"Tisdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lördag\"],\n            weekdaysShort: [\"Sön\", \"Mån\", \"Tis\", \"Ons\", \"Tor\", \"Fre\", \"Lör\"],\n            weekdaysMin: [\"Sö\", \"Må\", \"Ti\", \"On\", \"To\", \"Fr\", \"Lö\"],\n            week: {\n                dow: 1,\n                doy: 4\n            }\n        },\n        \"en-US\": {\n            months: [\n                \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\",\n                \"August\", \"September\", \"October\", \"November\", \"December\"\n            ],\n            monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n            weekdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n            weekdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n            weekdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n            week: {\n                dow: 1,\n                doy: 4\n            }\n        }\n    };\n\n    if (date_locales.hasOwnProperty(lang)) {\n        return date_locales[lang];\n    } else if (date_locales.hasOwnProperty(config.fallback_language)) {\n        console.error(\"Missing date locales for lang '\" + lang + \"', returning fallback language '\" + config.fallback_language + \"'.\");\n        return date_locales[config.fallback_language];\n    }\n    throw new Error(\"Missing date locales for lang '\" + lang + \"' and fallback language '\" + config.fallback_language + \"'. Returning null.\");\n}\n\nfunction formatSecondsToMS(value: number, alwaysInclude = \"none\", padding = false, colon = false) {\n    //Function to convert a value (seconds) to a [m]m[s]s format: 1m2s.\n    //alwaysInclude can be:\n    // \"none\" - if not enough for a minute only returns seconds, if an exact minute the seconds will not be included.\n    // \"minutes\" - if value not above 60 \"0m\" will be prepended to the seconds.\n    // \"seconds\" - if value is exact minute \"0s\" will be appended after the minute.\n    // \"both\" - Will always prepend and append \"0m\" and \"0s\" respectively as needed.\n    //padding <bool> toggles if values should be padded so 4 becomes 04. Both minutes and seconds will be padded.\n    //colon <bool> changes the format to be mm:ss instead of \"mmMssS\". Will always include both minutes and seconds, always padding.\n\n    const minutes = (value > 0) ? Math.floor(value / 60) : Math.ceil(value / 60);\n    const seconds = value % 60;\n\n    let m_str = \"\";\n    let s_str = \"\";\n\n    if (padding || colon) {\n        m_str = format(minutes, { padding: 2 });\n        s_str = format(seconds, { padding: 2 });\n    } else {\n        m_str = minutes + \"\"; //Ensure string.\n        s_str = seconds + \"\"; //Ensure string.\n    }\n\n    if (colon) {\n        return m_str + \":\" + s_str;\n    }\n\n    if (alwaysInclude === \"none\") {\n        if (minutes !== 0 && seconds !== 0) {\n            return m_str + \"m\" + s_str + \"s\";\n        } else if (minutes === 0) {\n            return s_str + \"s\";\n        }\n        return m_str + \"m\";\n    } else if (alwaysInclude === \"minutes\") {\n        if (seconds !== 0) {\n            return m_str + \"m\" + s_str + \"s\";\n        }\n        return m_str + \"m\";\n    } else if (alwaysInclude === \"seconds\") {\n        if (minutes !== 0) {\n            return m_str + \"m\" + s_str + \"s\";\n        }\n        return s_str + \"s\";\n    }\n    return m_str + \"m\" + s_str + \"s\";\n}\n\n\n\n\n\n\n////////////////\n//Numeric\n\nfunction roundTo(input: number, round_exp: number = 0) {\n    if (round_exp === 0) { return Math.round(input); }\n    let stringified: string[] = [\"\"];\n    stringified = input.toString().split('e');\n    let round = Math.round(+(stringified[0] + 'e' + (stringified[1] ? (+stringified[1] - round_exp) : -round_exp)));\n    stringified = round.toString().split('e');\n    return +(stringified[0] + 'e' + (stringified[1] ? (+stringified[1] + round_exp) : round_exp));\n}\n\nfunction roundUpTo(input: number, ceil_exp: number = 0) {\n    if (ceil_exp === 0) { return Math.ceil(input); }\n    let stringified: string[] = [\"\"];\n    stringified = input.toString().split('e');\n    let ceil = Math.ceil(+(stringified[0] + 'e' + (stringified[1] ? (+stringified[1] - ceil_exp) : -ceil_exp)));\n    stringified = ceil.toString().split('e');\n    return +(stringified[0] + 'e' + (stringified[1] ? (+stringified[1] + ceil_exp) : ceil_exp));\n}\n\nfunction roundDownTo(input: number, floor_exp: number = 0) {\n    if (floor_exp === 0) { return Math.floor(input); }\n    let stringified: string[] = [\"\"];\n    stringified = input.toString().split('e');\n    let floor = Math.floor(+(stringified[0] + 'e' + (stringified[1] ? (+stringified[1] - floor_exp) : -floor_exp)));\n    stringified = floor.toString().split('e');\n    return +(stringified[0] + 'e' + (stringified[1] ? (+stringified[1] + floor_exp) : floor_exp));\n}\n\n\nfunction format(value: number, options: FormatOptions) {\n    let str: string;\n    let str_arr: string[];\n    const round = (typeof options.round === \"number\") || false;\n    const round_exp = options.round;\n    const ceil = (typeof options.ceil === \"number\") || false;\n    const ceil_exp = options.ceil;\n    const floor = (typeof options.floor === \"number\") || false;\n    const floor_exp = options.floor;\n    const separate_padding = (typeof options.integer_padding === \"number\" || typeof options.decimal_padding === \"number\") || false;\n    const i_pad_length = options.integer_padding;\n    const d_pad_length = options.decimal_padding;\n    const padding = (typeof options.padding === \"number\") || false;\n    const pad_length = options.padding;\n    const trunc = (options.trunc === true) || false;\n    const grouping = (options.grouping === true) || false;\n\n    const is_negative = (value < 0);\n\n    if (typeof value !== \"number\") {\n        console.warn(\"Tried to format a value but input was typeof: \", typeof value);\n        return value;\n    }\n\n    if (round && !ceil && !floor) {\n        value = roundTo(value, round_exp);\n    }\n    if (ceil && !floor) {\n        value = roundUpTo(value, ceil_exp);\n    }\n    if (floor) {\n        value = roundDownTo(value, floor_exp);\n    }\n\n    if (trunc && !round) {\n        str = Math.trunc(value).toString();\n    } else {\n        str = value.toString();\n    }\n\n    if (grouping) {\n        if (is_negative) { //Remove minus sign if negative.\n            str = str.substr(1);\n        }\n        let separated = str.split('.'); //We only want to group the value before the decimal point.\n        str_arr = separated[0].split('');\n        str = \"\";\n        while (str_arr.length > 3) {\n            str = \" \" + str_arr[str_arr.length - 3] + str_arr[str_arr.length - 2] + str_arr[str_arr.length - 1] + str;\n            str_arr = str_arr.slice(0, str_arr.length - 3);\n        }\n        let joined_arr = str_arr.join(\"\");\n        str = (joined_arr.length > 0) ? joined_arr + str : str;\n        str += (separated.length > 1) ? \".\" + separated[1] : \"\";\n        if (is_negative) { //Add minus sign if negative.\n            str = \"-\" + str;\n        }\n    }\n\n    if (separate_padding) {\n        str_arr = str.split(\".\");\n        if (i_pad_length && str_arr[0].length < i_pad_length) {\n            str_arr[0] = (\"000000000000000000000\" + str_arr[0]).slice(-i_pad_length);\n        }\n        if (d_pad_length) {\n            if (str_arr.length > 1 && str_arr[1].length < d_pad_length) {\n                str_arr[1] = (str_arr[1] + \"000000000000000000000\").slice(0, d_pad_length);\n                str = str_arr.join(\".\");\n            } else if (str_arr.length > 1) {\n                str = str_arr[0] + \".\" + (str_arr[1] + \"00000000000000000\").slice(0, d_pad_length);\n            } else {\n                str = str_arr[0] + \".\" + \"00000000000000000\".slice(0, d_pad_length);\n            }\n        }\n    }\n    if (padding && pad_length) {\n        if (str.length < pad_length) {\n            str = (str + \"000000000000000000000\").slice(0, pad_length);\n        }\n    }\n\n    return str;\n}\n\n\n\n\n\n\nfunction updateTranslations(dictionary_arr: Dictionary[], warn = true, overwrite = true) {\n    translations = {};\n    dictionary_arr.forEach((dict: Dictionary, dict_index: number) => {\n        let prefix = dict.hasOwnProperty('prefix') ? dict.prefix : \"\";\n        let keys = Object.keys(dict);\n        keys.forEach((potential_lang) => {\n            if (supported_languages.includes(potential_lang) === false) {\n                return;\n            }\n            let lang = potential_lang as LangId;\n            const lang_in_dict = dict[lang];\n            if (!lang_in_dict) { return; }\n            let keys_for_lang: string[] = Object.keys(lang_in_dict);\n            if (translations.hasOwnProperty(lang) === false) {\n                let new_lang_translations: StrStrObject = {};\n                keys_for_lang.forEach((key) => {\n                    new_lang_translations[prefix + key] = lang_in_dict[key];\n                });\n                translations[lang] = new_lang_translations;\n            } else {\n                if (warn || !overwrite) {\n                    let updated_lang_translations = Object.assign({}, translations[lang]);\n\n                    keys_for_lang.forEach((translation_key) => {\n                        if (updated_lang_translations.hasOwnProperty(prefix + translation_key)) {\n                            if (warn) {\n                                console.warn(\"OH: Dictionary \" + dict_index + \" is conflicting with existing key '\" + (prefix + translation_key) + \"'.\");\n                            }\n                            if (overwrite) {\n                                updated_lang_translations[prefix + translation_key] = lang_in_dict[translation_key];\n                            }\n                        }\n                        updated_lang_translations[prefix + translation_key] = lang_in_dict[translation_key];\n                    });\n                    translations[lang] = updated_lang_translations;\n                } else {\n                    let new_lang_translations: StrStrObject = {};\n                    keys_for_lang.forEach((key) => {\n                        new_lang_translations[prefix + key] = lang_in_dict[key];\n                    });\n                    translations[lang] = Object.assign({}, translations[lang], new_lang_translations);\n                }\n            }\n        });\n    });\n}\n\nfunction addDictionary(dictionary: Dictionary) {\n    config.dictionaries.push(dictionary);\n    updateTranslations(config.dictionaries);\n}\n\nlet funcs = {\n    addDictionary: addDictionary,\n    dateToMoment: dateToMoment,\n    format: format,\n    formatDateAsString: formatDateAsString,\n    formatDateAsTimeString: formatDateAsTimeString,\n    formatSecondsToMS: formatSecondsToMS,\n    getCurrentConfig: getCurrentConfig,\n    getDateLocale: getDateLocale,\n    getFallbackLang: getFallbackLang,\n    getLang: getLang,\n    roundDownTo: roundDownTo,\n    roundTo: roundTo,\n    roundUpTo: roundUpTo,\n    setConfig: setConfig,\n    translate: translate,\n    translateTyped: translateTyped\n};\n\nlet exported_funcs = Object.assign({}, funcs);\n\nfunction setConfig(config_opts: OHConfig) {\n    let invalid = false;\n    Object.keys(config_opts).forEach((key) => {\n        if (key === \"dictionaries\" && config.dictionaries.length > 0) {\n            console.warn(\"OH: To add dictionaries after initial setConfig use 'OH.addDictionary()'\");\n            invalid = true;\n            return;\n        }\n        if (config[key] !== default_config[key]) {\n            console.warn(\"OH: setConfig has overwritten previous setting '\" + key + \"': \" + config[key] + \" => \" + config_opts[key]);\n        }\n    });\n    if (invalid) {\n        console.error(\"OH: Unable to setConfig, invalid settings.\");\n        return;\n    }\n    config = Object.assign({}, config, config_opts);\n\n    if (!config.lang) {\n        console.warn(\"OH: No lang specified with setConfig, defaulting to fallback language: \" + config.fallback_language + \".\");\n        config.lang = config.fallback_language;\n    }\n    if (config.date_locale) {\n        moment.locale(config.date_locale);\n    } else {\n        moment.locale(config.lang);\n    }\n    if (Array.isArray(config.dictionaries) === false) {\n        console.error(\"OH: 'dictionaries' prop required to be an array.\");\n        config.dictionaries = [];\n        translations = {};\n    }\n\n    updateTranslations(config.dictionaries);\n    exported_funcs = Object.assign(exported_funcs, config.extend_with, funcs);\n}\n\nfunction getCurrentConfig() {\n    return Object.assign({}, config);\n}\n\nfunction getLang() {\n    return config.lang;\n}\nfunction getFallbackLang() {\n    return config.fallback_language;\n}\n\n\n\nexport default exported_funcs;\n"]}